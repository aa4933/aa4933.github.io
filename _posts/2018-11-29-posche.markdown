---
layout:     post
title:      "12123选号经验谈"
subtitle:   "12123"
date:       2018-11-22 15:28:00
author:     "wuilly"
header-img: "https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1516777063737&di=a86a9881000f70190aaffe6953eec4f3&imgtype=0&src=http%3A%2F%2Fimg.article.pchome.net%2F00%2F28%2F07%2F58%2Fpic_lib%2Fwm%2F1920_1200car_1002.jpg"
tags:
    - 12123
---
> 'About 12123'


### 前言

> 为什么发这个呢，主要是因为有机会用了一次12123选号系统，根据自己的想法做了一些事情，但是实际上并没有很好的解决自己的需求，也算是一次经验，而且很坑爹的是，我翻了网络上百分之90的12123选号经验帖子，什么鬼都没有，很多人连话都讲不清楚，所以我亲身体验以后准备留个经验，免得以后的人踩我的坑，而且我建议所有买车的人，都去使用一次12123选号，当然，你土豪直接买号码的话，那我没话说，因为拍卖买号码就不能使用12123了（听4s店的人说的，消息不一定准确）


### 动手阶段

```
我翻了一下12123的网站，对于网站里面的

`http://wnz.122.gov.cn/views/vehxhhdpub.html`
```

![image](https://wx1.sinaimg.cn/large/005N5norgy1fxpxk6tbk0j30yk0bsmyu.jpg)

> 当我看到号池公布的时候，我一度以为我的变成技能有效了

> 所以很自然的我写了一串代码去扒了几乎100%的号码数据

``` php
     for ($i = 1; $i <= 108; $i++) {
           //发送注册
           $groupData = [
//            'headers' => [
//                '' => '',
//                '' => '',
//                '' => '',
//                '' => '',
//                '' => '',
//            ],
               'form_params' => [
                   'page' => $i,
                   'glbm' => '330300000400',
                   'hpzl' => '02',
               ]
           ];
           $res = $this->client->request('POST', 'http://wnz.122.gov.cn/m/mvehxh/getDiscardList', $groupData);
           $jsonRes = (string)$res->getBody();
           $arrRes = json_decode($jsonRes, true);
           for ($t = 0; $t <= 9; $t++) {
               file_put_contents('circle_alipay_notify.txt', $arrRes['data']['content'][$t]['hphm'] . '---------------' . $arrRes['data']['content'][$t]['yxqz'] . PHP_EOL, FILE_APPEND);
           }
       }
       exit();
```

> 本段代码用php编写，依赖于guzzle库

> 然后喜闻乐见的结果是，我扒了号码段

> 然后用了正则匹配了869号段

```
正则方法
(8|6|9)(8|6|9).(8|6|9)

结果
浙C88H9R---------------2018-08-10
浙C69J8K---------------2018-08-13
浙C69H6N---------------2018-08-14
浙C89H8G---------------2018-08-20
浙C98H6X---------------2018-08-22
浙C96K9M---------------2018-08-30
浙C96S6Q---------------2018-09-10
浙C99S8Q---------------2018-09-10
浙C98S6V---------------2018-09-11
浙C99S6Q---------------2018-09-11
浙C99S6V---------------2018-09-12
浙C68E9L---------------2018-09-13
浙C99J6P---------------2018-09-14
浙C69P8J---------------2018-09-28
浙C68S8B---------------2018-10-03
浙C68P9S---------------2018-10-16
浙C96P9L---------------2018-10-18
浙C99U8K---------------2018-10-29
浙C89Q6B---------------2018-11-08
浙C68R6G---------------2018-11-08
浙C86Q9B---------------2018-11-08
浙C69R6G---------------2018-11-09
浙C96Q6S---------------2018-11-13
浙C88S6C---------------2018-11-14
浙C86S9C---------------2018-11-15
浙C96J9U---------------2018-11-16
浙C98P9W---------------2018-11-19
浙C69S6J---------------2018-11-20
```


> 正如你所见，我拿到了号码池里面所有的986号码，然后我自然很骄傲的感觉，自己一定能选中这些号码

> 选号以前，其实有2个问题，我百度了很多经验，都说不出所以然

* 1：这些号码池是用于哪种选号形式

* 2：选号的流程是否有限制

> 我直接公布我经历过以后的回答吧

* 1:号码池就是用于自编号码

* 2:选号流程没有任何限制，随机选号有时间限制，只要不开始，随便你怎么选，自编选号20次机会，随便你编

![image](https://ws4.sinaimg.cn/large/005N5norgy1fxpxujctygj30mh0edq3e.jpg)

> 当然从技术角度来看，我看到了很多问题，首先是12123的选号盘


![image](https://wx2.sinaimg.cn/large/005N5norgy1fxpxv1r2ykj30q20gh0tp.jpg)


> 选号盘是有锁定限制的，但是这个实现方式有2种

* 每次点击都去请求服务端，然后服务端去计算
* 客户端提前加载出所有号段，然后自己客户端计算匹配

> 第一种实现方式，我感觉凭12123的技术水准估计很难达到高并发高可用，估计几个人同时选要炸，当然，这种是比较智能化的，每次选的时候，只有已经存在的号码，用户体验极好

> 第二种实现方式，就有坑爹成分在了，虽然减少了服务器压力，但是如果号段已经被人选过了，没有及时更新，或者根本没有去请求服务端获取最新的号段，就会造成，你组合了大半天，然后给你弹出一个号码已经被占用

![image](https://wx1.sinaimg.cn/large/005N5norgy1fxpxyqj4mwj30gn03bt8n.jpg)

```
很不幸的是，12123使用的是压力较小的实现方式，这个也是我选的时候才知道的，这个时候坑爹的地方就来了
我选的所有号码，都被人选过了
我很轻松的浪费了20次选号机会
```

#### 后记

```
最后的最后，我只能使用随机选号选了一个稍微看着正常一点的号码
没有很完美的986，也是只能凑合一对98
其实12123这个系统，本身其实实现难度很低，而且业务很简单，总体而言，这个系统的选号机制90%都是运气，剩下的5%是你是否准备好了，还有5%是不要太贪心，目的性要强
```


> 如果当初我留下5个号段备用的话，可能我就能自编出连续的号段了，而不至于所有的号段都无法正常使用，我太贪心了，所以我丢失了5%，希望看到文章的人放平常心吧


> 相反代码也不是很重要，中国人多，肯定大神，黄牛，内部交易很多，你一个人干不过这些职业党的，一般人只能用这个系统不要筛出4罢了

> 虽然系统不给力，但是我认为大家还是可以多去用多去选，毕竟多了2次50选1的机会，不用白不用，毕竟系统是可以升级的，交管部愿意花钱做这个系统，已经是迈出了一大步了，只有多用多支持，做系统的人才能有经费把系统做的更好